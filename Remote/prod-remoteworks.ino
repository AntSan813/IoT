/*
    Technology Incubator IoT 
    Winthrop University - Spring 2018
    
    Remote Project (1/1)
    this program uses an IR transmitter to turn on and off a tv. It is also integrated with Amazon Alexa  
*/

// This #include statement was automatically added by the Particle IDE.
//#include "EchoPhotonBridge.h"
#include <IRTransmitter.h>
#include <string.h>  

#define IR_PIN D0
#define LED_PIN D4

//EchoPhotonBridge epb;

//function OnOff - this turns a device on or off
int functionOnOff(int device, bool onOff, String rawParameters)
{
    digitalWrite(D0, (onOff) ? HIGH : LOW);
}

//  REMINDER: Tell your echo, "Alexa, Discover Devices" after you program your photon so Amazon picks it up.

void setup()
{
    Particle.function("transmit", transmit); // setup transmit function
    pinMode(D0, OUTPUT);
//    epb.addEchoDeviceV2OnOff("Photon Light", &functionOnOff);
}

// Raw data can be sniffed using an IR-receiver and e.g. https://github.com/z3t0/Arduino-IRremote/blob/master/examples/IRrecvDumpV2/IRrecvDumpV2.ino
unsigned int data[67] = {4600,4350,700,1550,650,1550,650,1600,650,450,650,450,650,450,650,450,700,400,700,1550,650,1550,650,1600,650,450,650,450,650,450,700,450,650,450,650,450,650,1550,700,450,650,450,650,450,650,450,650,450,700,400,650,1600,650,450,650,1550,650,1600,650,1550,650,1550,700,1550,650,1550,650};  // NEC 10EF6897
//unsigned int data[67] = {4500,4450, 550,1650, 550,1700, 550,1650, 550,600, 550,500, 600,550, 550,550, 550,550, 600,1650, 550,1650, 550,1650, 600,550, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 550,600, 550,1650, 550,550, 550,1650, 600,1650, 550,1650, 600,1650, 550,1650, 550,1650, 600};

IRTransmitter transmitter(IR_PIN, LED_PIN);
void loop() 
{
  
}

int transmit(String arg1)
{
	if (!strcmp(arg1, "onoff"))
	{
		unsigned int  rawData[67] = {4500,4450, 550,1650, 550,1650, 600,1650, 550,550, 550,550, 600,500, 600,550, 550,550, 550,1650, 600,1650, 550,1650, 600,550, 550,550, 550,550, 550,550, 550,550, 600,500, 600,1650, 550,600, 500,600, 550,550, 550,550, 550,550, 550,550, 550,1700, 550,550, 550,1650, 600,1650, 550,1650, 600,1600, 600,1650, 550,1650, 600};  // SAMSUNG E0E040BF
	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));
	}
	else if (!strcmp(arg1, "1"))
	{
		unsigned int  rawData[67] = {4500,4400, 600,1650, 550,1650, 600,1650, 550,550, 550,550, 600,500, 600,550, 550,550, 550,1650, 600,1650, 550,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 550,550, 600,500, 600,1650, 550,550, 550,550, 600,500, 600,550, 550,550, 550,1650, 600,1650, 550,550, 550,1650, 600,1650, 550,1650, 600,1650, 550,1650, 550};  // SAMSUNG E0E020DF

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "2"))
	{
		unsigned int  rawData[67] = {4500,4450, 550,1650, 600,1650, 550,1650, 600,500, 600,550, 550,550, 550,550, 550,550, 600,1650, 550,1650, 600,1650, 550,550, 550,550, 550,550, 600,500, 650,500, 550,1650, 550,550, 600,1650, 550,550, 550,550, 550,550, 600,550, 550,550, 550,550, 550,1650, 600,550, 550,1650, 550,1650, 600,1650, 550,1650, 600,1650, 550};  // SAMSUNG E0E0A05F

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "3"))
	{

		unsigned int  rawData[67] = {4500,4450, 550,1650, 600,1650, 550,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 600,1650, 550,1650, 550,1650, 600,550, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,1700, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,550, 600,500, 600,1650, 550,1650, 600,1650, 550,1650, 600,1650, 550};  // SAMSUNG E0E0609F

		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "4"))
	{
		unsigned int  rawData[67] = {4500,4400, 600,1650, 550,1650, 600,1650, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,1650, 600,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 600,500, 600,500, 600,550, 550,550, 550,1650, 600,1650, 550,1650, 600,500, 600,1650, 550,1650, 600,1650, 550,1650, 550};  // SAMSUNG E0E010EF

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "5"))
	{
		unsigned int  rawData[67] = {4500,4450, 550,1650, 600,1650, 550,1650, 550,550, 600,550, 550,550, 550,550, 550,550, 600,1650, 550,1650, 550,1650, 600,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,550, 600,500, 600,1650, 550,550, 550,550, 600,500, 600,550, 600,500, 550,1650, 600,1650, 550,550, 550,1650, 600,1650, 550,1650, 600,1650, 550};  // SAMSUNG E0E0906F

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "6"))
	{
		unsigned int  rawData[67] = {4500,4450, 550,1650, 600,1650, 550,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 550,1650, 600,1650, 550,1650, 600,500, 600,550, 550,550, 550,550, 550,550, 600,500, 600,1650, 550,550, 550,1700, 550,550, 550,550, 550,550, 600,500, 600,1650, 550,550, 600,1600, 600,550, 550,1650, 600,1650, 550,1650, 550,1650, 600};  // SAMSUNG E0E050AF

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "7"))
	{
		unsigned int  rawData[67] = {4500,4400, 600,1650, 550,1650, 600,1650, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 600,1650, 550,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 550,550, 600,500, 600,1650, 550,1650, 600,550, 550,550, 550,550, 550,550, 550,1700, 550,1650, 550,550, 600,500, 600,1650, 550,1650, 600,1650, 550,1650, 600};  // SAMSUNG E0E030CF

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "8"))
	{
		unsigned int  rawData[67] = {4450,4450, 550,1650, 600,1650, 550,1650, 600,550, 550,550, 550,550, 550,550, 550,550, 600,1650, 550,1650, 600,1650, 550,550, 550,550, 600,500, 600,500, 600,550, 550,1650, 600,500, 600,1650, 550,1650, 600,500, 600,550, 550,550, 550,550, 550,550, 600,1650, 550,550, 550,550, 550,1650, 600,1650, 550,1650, 600,1650, 550};  // SAMSUNG E0E0B04F

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "9"))
	{
		unsigned int  rawData[67] = {4500,4400, 600,1650, 550,1650, 600,1650, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,1700, 550,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 550,550, 600,1650, 550,1650, 600,1650, 550,550, 550,550, 550,550, 600,500, 600,1650, 550,550, 550,550, 600,500, 600,1650, 550,1650, 600,1650, 550,1650, 600};  // SAMSUNG E0E0708F

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "0"))
	{
		unsigned int  rawData[67] = {4500,4400, 600,1650, 550,1650, 600,1650, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,1700, 550,1650, 550,550, 600,500, 600,550, 550,550, 550,550, 550,1650, 600,550, 550,550, 550,550, 550,1700, 550,550, 550,550, 550,550, 600,500, 600,1650, 550,1650, 600,1650, 550,550, 550,1650, 600,1650, 550,1650, 600};  // SAMSUNG E0E08877

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "volup"))
	{
		unsigned int  rawData[67] = {4450,4450, 550,1650, 600,1650, 550,1650, 600,500, 600,550, 550,550, 550,550, 550,550, 600,1650, 550,1650, 550,1700, 550,550, 550,550, 550,550, 550,550, 600,550, 550,1650, 550,1650, 600,1650, 550,550, 600,500, 600,500, 600,550, 550,550, 550,550, 550,550, 600,550, 550,1650, 550,1650, 600,1650, 550,1650, 600,1650, 550};  // SAMSUNG E0E0E01F

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "voldown"))
	{
		unsigned int  rawData[67] = {4500,4450, 550,1650, 550,1650, 600,1650, 550,550, 550,550, 600,550, 550,550, 550,550, 550,1650, 600,1650, 550,1650, 600,500, 600,550, 550,550, 550,550, 550,550, 600,1650, 550,1650, 600,500, 600,1650, 550,550, 550,550, 600,500, 600,550, 550,550, 550,550, 550,1650, 600,550, 550,1650, 550,1650, 600,1650, 550,1650, 600};  // SAMSUNG E0E0D02F

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));


	}
	else if (!strcmp(arg1, "chnup"))
	{
		unsigned int  rawData[67] = {4500,4450, 550,1650, 600,1650, 550,1650, 550,550, 600,550, 550,550, 550,550, 550,550, 600,1650, 550,1650, 550,1650, 600,550, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,550, 600,550, 550,1650, 550,550, 600,500, 600,550, 550,1650, 550,550, 600,1650, 550,1650, 550,550, 600,1650, 550,1650, 600,1650, 550};  // SAMSUNG E0E048B7

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
	else if (!strcmp(arg1, "chndown"))
	{
		unsigned int  rawData[67] = {4500,4400, 600,1650, 550,1650, 550,1700, 550,550, 550,550, 550,550, 600,500, 600,550, 550,1650, 550,1650, 600,1650, 550,550, 550,550, 600,500, 600,550, 550,550, 550,550, 600,500, 600,550, 550,550, 550,1650, 600,500, 600,550, 550,550, 550,1650, 600,1650, 550,1650, 550,1650, 600,550, 550,1650, 550,1700, 550,1650, 550};  // SAMSUNG E0E008F7

	
		transmitter.Transmit(data, sizeof(data) / sizeof(data[0]));

	}
}
